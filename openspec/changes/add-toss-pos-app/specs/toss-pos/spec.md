# TossPlace POS App Specification

## ADDED Requirements

### Requirement: 상품 표시
시스템은 등록된 상품을 카테고리별로 그룹화하여 그리드 형태로 표시해야 한다(SHALL).

#### Scenario: 카테고리별 상품 조회
- **GIVEN** 사용자가 주문 화면에 진입했을 때
- **WHEN** 특정 카테고리를 선택하면
- **THEN** 해당 카테고리의 상품만 그리드에 표시된다
- **AND** 상품 카드에는 이름, 가격이 표시된다

#### Scenario: 전체 상품 조회
- **GIVEN** 사용자가 주문 화면에 진입했을 때
- **WHEN** "전체" 카테고리를 선택하면
- **THEN** 모든 카테고리의 상품이 그리드에 표시된다

---

### Requirement: 주문 항목 추가
시스템은 사용자가 상품을 선택하면 현재 주문에 해당 상품을 추가해야 한다(SHALL).

#### Scenario: 상품 추가
- **GIVEN** 사용자가 주문 화면에서 상품 그리드를 보고 있을 때
- **WHEN** 상품 카드를 클릭하면
- **THEN** 해당 상품이 주문 목록에 추가된다
- **AND** 주문 총액이 업데이트된다

#### Scenario: 동일 상품 수량 증가
- **GIVEN** 주문 목록에 특정 상품이 이미 있을 때
- **WHEN** 같은 상품을 다시 선택하면
- **THEN** 해당 상품의 수량이 1 증가한다
- **AND** 주문 총액이 업데이트된다

---

### Requirement: 주문 항목 관리
시스템은 주문 목록에서 항목의 수량 변경 및 삭제를 지원해야 한다(SHALL).

#### Scenario: 수량 증가
- **GIVEN** 주문 목록에 상품이 있을 때
- **WHEN** 수량 증가 버튼(+)을 클릭하면
- **THEN** 해당 상품의 수량이 1 증가한다
- **AND** 주문 총액이 업데이트된다

#### Scenario: 수량 감소
- **GIVEN** 주문 목록에 수량이 2 이상인 상품이 있을 때
- **WHEN** 수량 감소 버튼(-)을 클릭하면
- **THEN** 해당 상품의 수량이 1 감소한다
- **AND** 주문 총액이 업데이트된다

#### Scenario: 항목 삭제
- **GIVEN** 주문 목록에 수량이 1인 상품이 있을 때
- **WHEN** 수량 감소 버튼(-)을 클릭하면
- **THEN** 해당 상품이 주문 목록에서 제거된다
- **AND** 주문 총액이 업데이트된다

---

### Requirement: 주문 총액 계산
시스템은 주문 목록의 총액을 실시간으로 계산하여 표시해야 한다(SHALL).

#### Scenario: 총액 계산
- **GIVEN** 주문 목록에 상품들이 있을 때
- **WHEN** 주문 목록이 변경되면
- **THEN** 총액이 (각 상품 가격 x 수량)의 합계로 계산된다
- **AND** 화면에 원화 형식으로 표시된다 (예: 15,000원)

---

### Requirement: 결제 처리
시스템은 현금 또는 카드로 결제를 처리할 수 있어야 한다(SHALL).

#### Scenario: 현금 결제
- **GIVEN** 주문 목록에 상품이 있을 때
- **WHEN** 사용자가 "현금 결제" 버튼을 클릭하면
- **THEN** 결제 확인 다이얼로그가 표시된다
- **AND** 확인 시 주문이 "현금" 결제로 저장된다
- **AND** 주문 목록이 초기화된다

#### Scenario: 카드 결제
- **GIVEN** 주문 목록에 상품이 있을 때
- **WHEN** 사용자가 "카드 결제" 버튼을 클릭하면
- **THEN** 결제 확인 다이얼로그가 표시된다
- **AND** 확인 시 주문이 "카드" 결제로 저장된다
- **AND** 주문 목록이 초기화된다

#### Scenario: 빈 주문 결제 방지
- **GIVEN** 주문 목록이 비어있을 때
- **WHEN** 결제 버튼을 클릭하면
- **THEN** 결제가 진행되지 않는다
- **AND** 결제 버튼이 비활성화 상태이다

---

### Requirement: 주문 저장
시스템은 완료된 주문을 로컬 데이터베이스에 저장해야 한다(SHALL).

#### Scenario: 주문 저장
- **GIVEN** 결제가 완료되었을 때
- **THEN** 주문 정보가 orders 테이블에 저장된다
- **AND** 주문 항목이 order_items 테이블에 저장된다
- **AND** 결제 시각이 기록된다

---

### Requirement: 매출 조회
시스템은 일별 매출 내역을 조회할 수 있어야 한다(SHALL).

#### Scenario: 오늘 매출 조회
- **GIVEN** 사용자가 매출 조회 화면에 진입했을 때
- **WHEN** 기본적으로 오늘 날짜가 선택되어 있으면
- **THEN** 오늘의 총 매출액이 표시된다
- **AND** 오늘의 주문 건수가 표시된다
- **AND** 오늘의 주문 목록이 표시된다

#### Scenario: 특정 날짜 매출 조회
- **GIVEN** 사용자가 매출 조회 화면에 있을 때
- **WHEN** 날짜를 변경하면
- **THEN** 해당 날짜의 매출 정보가 표시된다

---

### Requirement: 상품 관리
시스템은 상품의 등록, 수정, 삭제를 지원해야 한다(MUST).

#### Scenario: 상품 등록
- **GIVEN** 관리자가 상품 관리 화면에 있을 때
- **WHEN** 상품 정보(이름, 가격, 카테고리)를 입력하고 저장하면
- **THEN** 새 상품이 데이터베이스에 저장된다
- **AND** 상품 목록에 표시된다

#### Scenario: 상품 수정
- **GIVEN** 관리자가 기존 상품을 선택했을 때
- **WHEN** 상품 정보를 수정하고 저장하면
- **THEN** 변경된 정보가 데이터베이스에 반영된다

#### Scenario: 상품 삭제
- **GIVEN** 관리자가 기존 상품을 선택했을 때
- **WHEN** 삭제 버튼을 클릭하면
- **THEN** 확인 다이얼로그가 표시된다
- **AND** 확인 시 상품이 데이터베이스에서 삭제된다

---

### Requirement: 카테고리 관리
시스템은 상품 카테고리의 등록, 수정, 삭제를 지원해야 한다(MUST).

#### Scenario: 카테고리 등록
- **GIVEN** 관리자가 카테고리 관리 화면에 있을 때
- **WHEN** 카테고리 이름을 입력하고 저장하면
- **THEN** 새 카테고리가 데이터베이스에 저장된다
- **AND** 카테고리 목록에 표시된다

#### Scenario: 카테고리 삭제
- **GIVEN** 관리자가 기존 카테고리를 선택했을 때
- **WHEN** 삭제 버튼을 클릭하면
- **THEN** 해당 카테고리에 속한 상품이 없는 경우에만 삭제된다
- **AND** 상품이 있으면 삭제 실패 메시지가 표시된다

---

### Requirement: 샘플 데이터
시스템은 초기 실행 시 카페 메뉴 샘플 데이터를 제공해야 한다(SHALL).

#### Scenario: 샘플 데이터 로드
- **GIVEN** 앱이 처음 실행되거나 데이터베이스가 비어있을 때
- **WHEN** 앱이 초기화되면
- **THEN** 기본 카테고리가 생성된다 (커피, 음료, 디저트, 베이커리)
- **AND** 샘플 상품이 생성된다 (아메리카노, 카페라떼, 바닐라라떼 등)

---

### Requirement: 오프라인 동작
시스템은 인터넷 연결 없이 모든 핵심 기능이 동작해야 한다(SHALL).

#### Scenario: 오프라인 주문
- **GIVEN** 인터넷 연결이 없는 상태에서
- **WHEN** 사용자가 주문을 생성하고 결제하면
- **THEN** 주문이 로컬 SQLite 데이터베이스에 저장된다
- **AND** 매출 조회에서 해당 주문을 확인할 수 있다

---

### Requirement: 토스 디자인 시스템
시스템은 토스플레이스 스타일의 일관된 UI를 제공해야 한다(SHALL).

#### Scenario: 디자인 일관성
- **GIVEN** 앱의 모든 화면에서
- **WHEN** UI 요소가 렌더링되면
- **THEN** 토스 브랜드 색상이 적용된다 (Blue: #3182F6, Gray: #191F28)
- **AND** 일관된 타이포그래피가 적용된다
- **AND** 일관된 간격(spacing)이 적용된다
- **AND** 부드러운 모서리(border-radius)가 적용된다
